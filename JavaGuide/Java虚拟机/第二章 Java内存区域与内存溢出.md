# Java内存区域与内存溢出

## 2.1 运行时数据区域

### 2.2.1 程序计数器

程序计数器它是程序控制流的指示器，分治，循环，跳转，异常处理，线程恢复等基础功能都需要以来这个计数器来完成。

由于 Java 虚拟机的多线程是通过线程轮流切换，分配处理器执行时间的方式来实现的，在任何一个确定的时刻，一个处理器（对于多核处理起来说是一个内核）都会执行一条线程中的指令，每个线程都需要有一个独立的程序计数器，各个条线程之间互不影响，独立存储，我们成这类内存区域为 ”线程私有“ 的内存。

### 2.2.2 Java 虚拟机栈

Java 虚拟机栈是**线程私有**的，它的生命周期与线程相同。虚拟机栈描述的是 Java 方法执行的线程内存模型：每个方法被执行的时候，Java 虚拟机都会同步创建一个栈帧用于存储局部变量表，操作数栈，动态连接，方法出口等信息。

### 2.2.3 本地方法栈

本地方法栈与虚拟机栈所发挥的作用是非常相似的，**其区别只是虚拟机栈为虚拟机执行 Java 方法（也就是字节码）服务，而本地栈则是虚拟机使用到的本地方法服务**。

### 2.2.4 Java堆

Java 堆是虚拟机所管理的内存最大的一块。Java 堆是被所有线程共享的一块内存区域，在虚拟机启动时创建，**此内存区域的唯一目的就是存放对象实例。**

Java 堆是垃圾收集器管理的内存区域

### 2.2.5 方法区

方法区用于存储已被虚拟机加载的类型信息、常量、静态变量、即时编译后的代码缓存等数据。