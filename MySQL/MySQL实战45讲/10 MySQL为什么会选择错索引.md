# 10 | MySQL为什么会选择错索引？

**优化器逻辑**

在数据库里面，扫描行数是影响执行代价的因素之一。扫描的行数越少，意味着访问磁盘数据的次数越少，消耗CPU资源越少

**扫描行数是怎么判断的？**

MySQL在真正开始执行语句之前，并不能精确的知道满足这个条件的记录有多少条，只能根据统计信息来估算记录数。这个统计信息称为”区分度“。一个索引上不同的值越多，这个索引的区分度就越好。索引上不同值得个数，称为”基数“，基数越大，索引区分度越好。

**怎么得到索引的基数？**

InnoDB 默认选择N个数据页，统计上面得不同值求出平均数，再乘页面数，就可以了



有时候MySQL还是会选错索引的，解决办法如下

1. 采用 `force index` 强行选择一个索引

























































